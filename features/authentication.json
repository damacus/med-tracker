[
	{
		"id": "AUTH-001",
		"category": "functional",
		"area": "authentication",
		"description": "User can sign up with email and password via Rodauth",
		"steps": [
			"Navigate to /create-account",
			"Fill in email and password",
			"Submit form",
			"Verify account created"
		],
		"passes": true
	},
	{
		"id": "AUTH-002",
		"category": "functional",
		"area": "authentication",
		"description": "User can log in with valid credentials",
		"steps": [
			"Navigate to /login",
			"Enter valid email and password",
			"Submit form",
			"Verify redirect to dashboard"
		],
		"passes": true
	},
	{
		"id": "AUTH-003",
		"category": "functional",
		"area": "authentication",
		"description": "User cannot log in with invalid credentials",
		"steps": [
			"Navigate to /login",
			"Enter invalid credentials",
			"Submit form",
			"Verify error message"
		],
		"passes": true
	},
	{
		"id": "AUTH-004",
		"category": "functional",
		"area": "authentication",
		"description": "User can log out",
		"steps": [
			"Log in",
			"Click logout",
			"Verify session destroyed",
			"Verify redirect to home"
		],
		"passes": true
	},
	{
		"id": "AUTH-005",
		"category": "functional",
		"area": "authentication",
		"description": "New users default to parent role",
		"steps": [
			"Complete signup",
			"Verify user role is parent",
			"Verify person_type set appropriately"
		],
		"passes": true
	},
	{
		"id": "AUTH-006",
		"category": "functional",
		"area": "authentication",
		"description": "Rodauth signup form creates account and person",
		"steps": [
			"Navigate to /create-account",
			"Fill in email, password, name, date of birth",
			"Submit",
			"Verify Account created",
			"Verify Person created and linked to Account"
		],
		"passes": true
	},
	{
		"id": "AUTH-007",
		"category": "functional",
		"area": "authentication",
		"description": "Email verification required in production",
		"steps": [
			"Set RAILS_ENV=production",
			"Create account",
			"Attempt login before verification",
			"Verify blocked with message",
			"Click verification link in email",
			"Verify login succeeds after"
		],
		"passes": true
	},
	{
		"id": "AUTH-008",
		"category": "functional",
		"area": "authentication",
		"description": "Email verification grace period in non-production (7 days)",
		"steps": [
			"Set RAILS_ENV=development",
			"Create account",
			"Login before verification succeeds immediately",
			"Advance time 8 days",
			"Attempt login",
			"Verify verification now required"
		],
		"passes": true
	},
	{
		"id": "AUTH-009",
		"category": "functional",
		"area": "authentication",
		"description": "Google OAuth creates new account for new user",
		"steps": [
			"Click Sign in with Google",
			"Complete OAuth flow with new email",
			"Verify Account created with verified status",
			"Verify Person created and linked"
		],
		"passes": true
	},
	{
		"id": "AUTH-010",
		"category": "functional",
		"area": "authentication",
		"description": "Google OAuth links to existing account with same email",
		"steps": [
			"Create account with email@example.com",
			"Sign in with Google using email@example.com",
			"Verify Google identity linked to existing account",
			"Verify no duplicate account created"
		],
		"passes": true
	},
	{
		"id": "AUTH-011",
		"category": "functional",
		"area": "authentication",
		"description": "Session tracks IP address and user agent",
		"steps": [
			"Log in",
			"Query session record",
			"Verify ip_address recorded",
			"Verify user_agent recorded"
		],
		"passes": true
	},
	{
		"id": "AUTH-012",
		"category": "functional",
		"area": "authentication",
		"description": "Unauthenticated users redirected to login",
		"steps": [
			"Clear session",
			"Navigate to /dashboard",
			"Verify redirect to /login"
		],
		"passes": true
	},
	{
		"id": "AUTH-013",
		"category": "functional",
		"area": "authentication",
		"description": "Logged-in user can link Google account from settings",
		"steps": [
			"Log in with email/password",
			"Navigate to account settings",
			"Click Link Google Account",
			"Complete OAuth flow",
			"Verify Google identity linked"
		],
		"passes": true
	},
	{
		"id": "AUTH-014",
		"category": "functional",
		"area": "authentication",
		"description": "Password reset flow works",
		"steps": [
			"Navigate to /login",
			"Click Forgot Password",
			"Enter email",
			"Receive reset email",
			"Click reset link",
			"Enter new password",
			"Verify can log in with new password"
		],
		"passes": true
	},
	{
		"id": "AUTH-015",
		"category": "functional",
		"area": "authentication",
		"description": "Remember me extends session",
		"steps": [
			"Navigate to /login",
			"Check Remember Me checkbox",
			"Log in",
			"Close browser",
			"Reopen browser",
			"Verify still logged in"
		],
		"passes": true
	},
	{
		"id": "AUTH-016",
		"category": "functional",
		"area": "authentication",
		"description": "Account status unverified prevents login in production",
		"steps": [
			"Create account with status unverified",
			"Set RAILS_ENV=production",
			"Attempt login",
			"Verify blocked with verification required message"
		],
		"passes": true
	},
	{
		"id": "AUTH-017",
		"category": "functional",
		"area": "authentication",
		"description": "Account status closed prevents login",
		"steps": [
			"Create account",
			"Set status to closed",
			"Attempt login",
			"Verify blocked with account closed message"
		],
		"passes": true
	},
	{
		"id": "AUTH-018",
		"category": "functional",
		"area": "authentication",
		"description": "Verification email resend works",
		"steps": [
			"Create unverified account",
			"Navigate to /login",
			"Click Resend Verification Email",
			"Enter email",
			"Verify new verification email sent"
		],
		"passes": true
	}
]
