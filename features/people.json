[
  {"id": "PEOPLE-001", "category": "functional", "area": "people", "description": "View list of people", "steps": ["Log in", "Navigate to /people", "Verify people listed"], "passes": true},
  {"id": "PEOPLE-002", "category": "functional", "area": "people", "description": "View person details", "steps": ["Log in", "Navigate to specific person", "Verify name", "Verify date of birth", "Verify person type"], "passes": true},
  {"id": "PEOPLE-003", "category": "functional", "area": "people", "description": "Create person with required fields", "steps": ["Log in as administrator", "Navigate to /people/new", "Fill name, DOB", "Submit", "Verify created"], "passes": true},
  {"id": "PEOPLE-004", "category": "functional", "area": "people", "description": "Edit person", "steps": ["Log in as administrator", "Navigate to person", "Click Edit", "Modify name", "Submit", "Verify saved"], "passes": true},
  {"id": "PEOPLE-005", "category": "functional", "area": "people", "description": "Delete person (admin only)", "steps": ["Log in as administrator", "Navigate to person", "Click Delete", "Confirm", "Verify removed"], "passes": true},
  {"id": "PEOPLE-006", "category": "functional", "area": "people", "description": "Person validates required fields", "steps": ["Log in as administrator", "Submit without name", "Verify error", "Submit without DOB", "Verify error"], "passes": true},
  {"id": "PEOPLE-007", "category": "functional", "area": "people", "description": "Person type can be set (adult, minor, dependent_adult)", "steps": ["Log in as administrator", "Create person", "Set person_type to minor", "Submit", "Verify type saved"], "passes": true},
  {"id": "PEOPLE-008", "category": "functional", "area": "people", "description": "Person has_capacity can be set", "steps": ["Log in as administrator", "Create person", "Set has_capacity=false", "Submit", "Verify saved"], "passes": true},
  {"id": "PEOPLE-009", "category": "functional", "area": "people", "description": "Person age calculated from date_of_birth", "steps": ["Create person with DOB 10 years ago", "Verify age method returns 10"], "passes": true},
  {"id": "PEOPLE-010", "category": "functional", "area": "people", "description": "adult? returns true if age >= 18 OR person_type == adult", "steps": ["Create person age 20", "Verify adult? true", "Create person age 17 person_type adult", "Verify adult? true"], "passes": true},
  {"id": "PEOPLE-011", "category": "functional", "area": "people", "description": "minor? returns true if age < 18 AND person_type == minor", "steps": ["Create person age 10 person_type minor", "Verify minor? true", "Create person age 10 person_type adult", "Verify minor? false"], "passes": true},
  {"id": "PEOPLE-012", "category": "functional", "area": "people", "description": "dependent_adult? returns true if age >= 18 AND person_type == dependent_adult", "steps": ["Create person age 30 person_type dependent_adult", "Verify dependent_adult? true"], "passes": true},
  {"id": "PEOPLE-013", "category": "functional", "area": "people", "description": "needs_carer? returns true if (minor? OR dependent_adult?) AND carers.empty?", "steps": ["Create minor with no carers", "Verify needs_carer? true", "Add carer", "Verify needs_carer? false"], "passes": true},
  {"id": "PEOPLE-014", "category": "functional", "area": "people", "description": "Person can have optional account link", "steps": ["Create person without account", "Verify account_id nil", "Link to account", "Verify account_id set"], "passes": true},
  {"id": "PEOPLE-015", "category": "functional", "area": "people", "description": "Person email is validated if present", "steps": ["Create person with invalid email", "Verify validation error", "Create person with valid email", "Verify saved"], "passes": true},
  {"id": "PEOPLE-016", "category": "functional", "area": "people", "description": "Complete person creation and management workflow", "steps": ["Log in as administrator", "Navigate to /people", "Click New Person", "Enter name: Test Patient", "Enter date of birth: 15 years ago", "Select person_type: minor", "Verify has_capacity checkbox disabled or unchecked", "Enter email: testpatient@example.com", "Submit form", "Verify success message", "Verify person appears in list", "Click on person to view details", "Verify all fields displayed", "Click Edit", "Change name to Updated Patient", "Submit changes", "Verify name updated", "Navigate to carer relationships", "Assign parent as carer", "Navigate back to person", "Verify needs_carer? now false"], "passes": false},
  {"id": "PEOPLE-017", "category": "functional", "area": "people", "description": "Person type transitions and age calculations", "steps": ["Log in as administrator", "Create person with DOB exactly 18 years ago", "Verify age method returns 18", "Verify adult? returns true", "Verify minor? returns false", "Create person with DOB 17 years ago", "Set person_type to minor", "Verify minor? returns true", "Verify needs_carer? returns true (no carers)", "Create person with DOB 40 years ago", "Set person_type to dependent_adult", "Set has_capacity to false", "Verify dependent_adult? returns true", "Verify needs_carer? returns true"], "passes": false},
  {"id": "PEOPLE-018", "category": "functional", "area": "people", "description": "Person deletion and data integrity", "steps": ["Log in as administrator", "Create new person without prescriptions", "Navigate to person details", "Click Delete", "Confirm deletion dialog", "Verify person removed from list", "Verify redirect to people index", "Create person with prescription", "Navigate to person details", "Attempt Delete", "Verify warning about associated records", "Confirm deletion", "Verify prescription also handled appropriately"], "passes": false}
]
