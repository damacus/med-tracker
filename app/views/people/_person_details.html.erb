<%= turbo_frame_tag dom_id(@person) do %>
  <div class="card mb-8">
    <div class="flex justify-between items-center mb-6">
      <% if editing %>
        <%= form_with(model: @person, class: "flex-grow", data: { controller: "auto-submit" }) do |f| %>
          <div class="flex gap-4 items-center">
            <div class="flex-grow">
              <%= f.text_field :name, class: "form__input", data: { action: "change->auto-submit#submit" } %>
            </div>
            <div class="flex gap-2">
              <%= f.submit "Save", class: "button" %>
              <%= link_to "Cancel", person_path(@person), class: "button button--secondary" %>
            </div>
          </div>
          <div class="mt-4">
            <%= f.date_field :date_of_birth, class: "form__input", data: { action: "change->auto-submit#submit" } %>
          </div>
        <% end %>
      <% else %>
        <div>
          <h1 class="mb-2"><%= @person.name %></h1>
          <p class="text-gray mb-2">Born: <%= @person.date_of_birth.strftime("%B %d, %Y") %></p>
          <p class="text-gray">Age: <%= @person.age %></p>
        </div>
        <div class="flex gap-2">
          <%= link_to "Edit", person_path(@person, editing: true), class: "button button--secondary" %>
          <%= link_to "Back", people_path, class: "button button--secondary" %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
